<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title>
      Build a custom layer view using deck.gl | Sample | ArcGIS API for
      JavaScript 4.23
    </title>

    <script src="https://unpkg.com/@deck.gl/core@^8.0.0/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/layers@^8.0.0/dist.min.js"></script>
    <script src="https://unpkg.com/deck.gl@8.1.1/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/geo-layers@8.1.1/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/arcgis@8.1.1/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/aggregation-layers@^8.0.0/dist.min.js"></script>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }

      .deck-tooltip {
    font-size: 0.8em;
    font-family: Helvetica, Arial, sans-serif;
  }

    </style>

    <script>
    const {DeckGL, HexagonLayer} = deck;

const layer = new deck.HexagonLayer({
  id: 'HexagonLayer',
  data: 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/sf-bike-parking.json',
  
  /* props from HexagonLayer class */
  
  // colorAggregation: 'SUM',
  // colorDomain: null,
  // colorRange: [[255, 255, 178], [254, 217, 118], [254, 178, 76], [253, 141, 60], [240, 59, 32], [189, 0, 38]],
  // colorScaleType: 'quantize',
  // coverage: 1,
  // elevationAggregation: 'SUM',
  // elevationDomain: null,
  // elevationLowerPercentile: 0,
  // elevationRange: [0, 1000],
  elevationScale: 4,
  // elevationScaleType: 'linear',
  // elevationUpperPercentile: 100,
  extruded: true,
  // getColorValue: null,
  // getColorWeight: 1,
  // getElevationValue: null,
  // getElevationWeight: 1,
  getPosition: d => d.COORDINATES,
  // hexagonAggregator: null,
  // lowerPercentile: 0,
  // material: true,
  // onSetColorDomain: null,
  // onSetElevationDomain: null,
  radius: 200,
  // upperPercentile: 100,
  
  /* props inherited from Layer class */
  
  // autoHighlight: false,
  // coordinateOrigin: [0, 0, 0],
  // coordinateSystem: COORDINATE_SYSTEM.LNGLAT,
  // highlightColor: [0, 0, 128, 128],
  // modelMatrix: null,
  // opacity: 1,
  pickable: true,
  // visible: true,
  // wrapLongitude: false,
});

new deck.DeckGL({
  mapStyle: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',
  initialViewState: {
    longitude: -122.4,
    latitude: 37.74,
    zoom: 11,
    maxZoom: 20,
    pitch: 30,
    bearing: 0
  },
  controller: true,
  getTooltip: ({object}) => object && `${object.position.join(', ')}
Count: ${object.points.length}`,
  layers: [layer]
});

    </script>
  </head>

  <body>
  </body>
</html>
